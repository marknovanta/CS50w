# CSBanking

## Description:
A personal banking web application that allows to send money (virtual money in this demo) between the registered users. It keep tracks of all the income and outcome, registering all the transactions.

## Technologies used:
- Python
- Django
- HTML
- CSS
- JavaScript
- Jinja
- Bootstrap

## How the web application works:
The web application is designed to mainly be a single page application. Excluding the login page and the registration page, no other html pages are employed. Only exception for layout.html, containing the main layout and linking to the static files.

Once the user is registered is directed to the home page, where is possible to check the current balance and the transactions.

From this home page is even possible to add cash, using the "Add Cash" button. A form will appears to allow the user to type in the amount of cash that is willing to add to the account.

The "Contacts" page allows to add and remove contacts. The user is able to add or remove other registered users. Once a user is added in the contacts, is possible to send money to that user.

Same mechanism of adding cash, a button makes appear a form for adding the username of the user to add. Once the user is added, the home page is showed.

The "Transfer" page allows the user to select, from a dropdown menu, the user from the contacts, then an input box allows to type in an amount to send and, finally, the send button makes the transaction happen.
After that, an animation is showed and the user is taken back to the home.

Either money transfers or deposits of cash appears in the transactions history.
All the incoming transactions are marked green and all the outcoming are marked red.
Each transaction box shows if is income or outcome, if is a deposit, the partecipants, the amount and the timestamp.

The dynamic of the application is managed mostly by JavaScript manipulating the DOM, adding elements, hiding and showing them.

Every time a database manipulation is needed, JavaScript use the fetch capabilities to interact with Django and let it work on the backend on the database, to then send back information to JavaScript that updates the frontend.

The graphics of the application is mainly powered by Bootstrap, making it even responsive and easily adaptable to mobile view.
Some personal adding in the styles.css file in the static folder just to adjust some detail and make a little animation.

## Django Models:
- **User**: extended to include each user's balance
    - balance field (float - the user's balance)
- **Transactions**: to store all the transactions
    - sender field (ForeignKey from User - user who sent the money)
    - receiver field (ForeignKey from User - user who receives the money)
    - amount field (float - amount of the transaction)
    - timestamp field (date - timestamp of when the transaction happened)
- **Contact**: the added registered users to exchange money with
    - user field (ForeignKey from User - the user)
    - contact field (ForeignKey from User - contact of the user)

## Key Features:

## Files:
CSBanking/:
- banking/
    - migrations/
        - 0001_initial.py
        - 0002_alter_user_balance.py
        - __init__.py
    - static/
        - banking/
            - scripts.js
            - styles.css
    - templates/
        - banking/
            - index.html
            - layout.html
            - login.html
            - register.html
    - admin.py
    - apps.py
    - __init__.py
    - models.py
    - tests.py
    - urls.py
    - views.py
- CSBanking/
    - asgi.py
    - __init_.py
    - settings.py
    - urls.py
    - wsgi.py
- db.sqlite3
- manage.py
- README.md

Excluding the files generated by Django, the most relevant are:
- `banking/views.py` (the main logic in the backend)
- `banking/urls.py` (the routes to access the logic from the frontend)
- `banking/models.py` (the models used to store the data)
- `banking/static/banking/scripts.js` (the main logic in the frontend)
- `banking/templates/banking/index.html` (the main structure of the page)

## How to run the web application:
In the main directory, run the command 

On PC:
> `python manage.py runserver`

On Mac or Linux:
> `python3 manage.py runserver`

then open the browser to the url that is showed on the shell.